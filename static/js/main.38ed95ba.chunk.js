(this["webpackJsonpalegra-test"]=this["webpackJsonpalegra-test"]||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/logo.eab1abc8.svg"},36:function(e,t,a){e.exports=a(58)},41:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),o=(a(41),a(12)),l=a(13),i=a(15),u=a(14),m=a(16),p=a(19),d=a(18),h=a(63),v=a(35),g=a(59),f=a(60),E=a(78),b=a(61),j=a(62),O=a(32),y=a.n(O),N=function(e){var t=Object(n.useState)(!1),a=Object(v.a)(t,2),s=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:"navbar",dark:!0,expand:"md"},r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{src:y.a,className:"logo",alt:"logo"})),r.a.createElement(f.a,{onClick:function(){return c(!s)}}),r.a.createElement(E.a,{isOpen:s,navbar:!0},r.a.createElement(b.a,{className:"ml-auto",navbar:!0},r.a.createElement(j.a,null,r.a.createElement(p.b,{to:"/about",className:"link"},"About"))))))},w=N=Object(d.e)(N),k=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"About me"))}}]),t}(n.Component),x=a(11),C=a(6),I=a.n(C),P=a(17),W=a(10),S=a(71),T=a(72),A=a(79),D=a(70),V=a(73),z=a(74),Z=a(75),G=a(76),M=a(77),B=a(64),U=a(65),Y=a(66),R=a(67),F=a(68),Q=a(69),q=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{className:"mt-4"},r.a.createElement(B.a,{className:this.getClassNone()},r.a.createElement(U.a,null,r.a.createElement(Y.a,null,r.a.createElement(R.a,{top:!0,width:"100%",src:this.props.link,alt:"imagensita"}),r.a.createElement(F.a,{className:"text-center"},r.a.createElement("p",null,"Vendedor: ",r.a.createElement("strong",null,this.props.vendorName)," "),r.a.createElement("hr",null)),r.a.createElement(Q.a,{style:{height:"5rem",overflow:"auto",textOverflow:"ellipsis"}}," ","Votos totales: ",this.props.totalVotes,void 0===this.props.totalVotes&&0," ",r.a.createElement("br",null),this.props.titulo),r.a.createElement("div",{className:this.getButtonC(this.props.vendorId)},r.a.createElement(D.a,{className:"button",size:"lg",onClick:function(){return e.props.onClickPress(e.props.vendorId)},block:!0},"Vota!"))))))}},{key:"getButtonC",value:function(e){var t="text-center";return t+=this.props.totalVotes>20?" empty":""}},{key:"getClassNone",value:function(){var e="m-2";return e+=void 0===this.props.link?" empty":""}}]),t}(n.Component),J=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("h1",null," Ganador ",this.props.vendedor,"!"),r.a.createElement(D.a,{className:"float-right",onClick:this.props.onRestart},"Reiniciar"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Invoice:",r.a.createElement("strong",null," ",this.props.facturaDate),r.a.createElement("span",{className:"float-right"}," ",r.a.createElement("strong",null,"Status:")," Pending ",this.props.facturaId)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h6",{className:"mb-3"},"From:"),r.a.createElement("div",null,r.a.createElement("strong",null,"Alegra")),r.a.createElement("div",null,"Madalinskiego 8"),r.a.createElement("div",null,"71-101 Szczecin, Poland"),r.a.createElement("div",null,"Email: info@info.info"),r.a.createElement("div",null,"Phone: +48 444 666 3333")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h6",{className:"mb-3"},"To:"),r.a.createElement("div",null,r.a.createElement("strong",null,this.props.cliente)),r.a.createElement("div",null,"Attn: Yesid Gonzalez"),r.a.createElement("div",null,"43-190 Mikolow, Poland"),r.a.createElement("div",null,"Email: marek@daniel.com"),r.a.createElement("div",null,"Phone: +48 123 456 789"))),r.a.createElement("div",{className:"table-responsive-sm"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"center"},"#"),r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Description"),r.a.createElement("th",{className:"center"},"Qty"),r.a.createElement("th",{className:"right"},"Total"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},"1"),r.a.createElement("td",{className:"left strong"},this.props.concursoName),r.a.createElement("td",{className:"left"},this.props.concursoDescription),r.a.createElement("td",{className:"right"},this.props.total),r.a.createElement("td",{className:"right"},"$",this.props.totalPago))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 col-sm-5"}),r.a.createElement("div",{className:"col-lg-4 col-sm-5 ml-auto"},r.a.createElement("table",{className:"table table-clear"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"left"},r.a.createElement("strong",null,"Subtotal")),r.a.createElement("td",{className:"right"},"$",this.props.totalPago)),r.a.createElement("tr",null,r.a.createElement("td",{className:"left"},r.a.createElement("strong",null,"Total")),r.a.createElement("td",{className:"right"},r.a.createElement("strong",null,"$",this.props.totalPago)))))))))))}}]),t}(n.Component);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=a(55),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).form={},a.getInitialState=function(){return{items:0,search:"",vendedores:[],images:[],votos:0,ganadores:{},winner:!1,vendedor:"",cliente:"",vendedorId:"",concursoName:"",concursoDescription:"",facturaId:0,facturaDate:"",totalPago:0}},a.handleRestart=Object(P.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.getInitialState()),e.next=3,a.setState(a.getInitialState());case 3:console.log("mount"),console.log(a.state),function(){var e=Object(P.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("https://api.alegra.com/api/v1/sellers/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic eWVzaWQuZGV2OTNAZ21haWwuY29tOjgyOWFmMTg4ZWU1N2M3YWUyZjc4",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.next=8,a.setState({vendedores:n,items:9});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();case 7:case"end":return e.stop()}}),e)}))),a.handleInputChange=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.form[t.target.name]=t.target,e.next=3,a.setState(Object(x.a)({},t.target.name,t.target.value));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleButton=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==a.state[t]){e.next=5;break}return e.next=3,a.setState((function(e){var a;return a={},Object(x.a)(a,t,3),Object(x.a)(a,"ganadores",L({},e.ganadores,Object(x.a)({},t,3))),a}));case 3:e.next=7;break;case 5:return e.next=7,a.setState((function(e){var n;return n={},Object(x.a)(n,t,3+a.state[t]),Object(x.a)(n,"ganadores",L({},e.ganadores,Object(x.a)({},t,3+a.state[t]))),n}));case 7:return console.log(a.state.ganadores),e.next=10,a.setState({votos:a.state.votos+3,images:[]});case 10:a.state[t]>=20&&function(){var e=Object(P.a)(I.a.mark((function e(){var n,r,s,c,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("https://api.alegra.com/api/v1/sellers/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic eWVzaWQuZGV2OTNAZ21haWwuY29tOjgyOWFmMTg4ZWU1N2M3YWUyZjc4",Accept:"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.next=8,a.setState({winner:!0});case 8:return console.log(r.name,"wins!"),s={date:"2019-10-29",dueDate:"2019-11-11",client:1,seller:t,items:[{id:1,price:120,quantity:a.state.items,description:"Ganador Concurso Vendedores \xa1a correr!"}],stamp:{generateStamp:!0}},e.next=12,K("https://api.alegra.com/api/v1/invoices",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Basic eWVzaWQuZGV2OTNAZ21haWwuY29tOjgyOWFmMTg4ZWU1N2M3YWUyZjc4",Accept:"application/json"}});case 12:return c=e.sent,e.next=15,c.json();case 15:return o=e.sent,console.log(o),e.next=19,a.setState({facturaId:o.invoice.id,facturaDate:o.invoice.date,vendedor:o.invoice.seller.name,cliente:o.invoice.client.name,vendedorId:o.invoice.seller.id,concursoName:o.invoice.items[0].name,concursoDescription:o.invoice.items[0].description,totalPago:o.invoice.items[0].total});case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleMytest=function(){a.state.search&&a.form.search.value.length>0&&(function(){var e=Object(P.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.setApiKey("AIzaSyDazJWiT0pjLAghEGMtjeTegz7qQXC6d4U");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){var e=Object(P.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a.state.search),window.gapi.client.load("https://content.googleapis.com/discovery/v1/apis/customsearch/v1/rest").then((function(){console.log("GAPI client loaded for API"),window.gapi.client.search.cse.list({q:a.state.search,cx:"005215205933549556099:si9ryhbwt9j",num:a.state.items,searchType:"image"}).then((function(e){a.setState({images:e.result.items}),console.log("Response",a.state.images)}),(function(e){console.error("Execute error",e)}))}),(function(e){console.error("Error loading GAPI client for API",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),a.form.search.value="")},a.state=a.getInitialState(),a.handleRestart=a.handleRestart.bind(Object(W.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("mount"),function(){var t=Object(P.a)(I.a.mark((function t(){var a,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K("https://api.alegra.com/api/v1/sellers/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic eWVzaWQuZGV2OTNAZ21haWwuY29tOjgyOWFmMTg4ZWU1N2M3YWUyZjc4",Accept:"application/json"}});case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.next=8,e.setState({vendedores:n,items:9});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}},{key:"render",value:function(){var e=this,t=this.state.winner;return r.a.createElement(h.a,{className:"mt-4"},r.a.createElement(S.a,null,r.a.createElement(T.a,{placeholder:"Ingresa una busqueda para encontrar imagenes",name:"search",onChange:this.handleInputChange,noValidate:!0}),r.a.createElement(A.a,{addonType:"append"},r.a.createElement(D.a,{className:"button",onClick:this.handleMytest},"Buscar"))),r.a.createElement("p",{className:this.getClassNone()},this.formatSearch()),t?r.a.createElement(V.a,null,r.a.createElement(J,{onRestart:this.handleRestart,total:this.state.votos,vendedor:this.state.vendedor,cliente:this.state.vendedor,vendedorId:this.state.vendedorId,concursoName:this.state.concursoName,concursoDescription:this.state.concursoDescription,totalPago:this.state.totalPago,facturaId:this.state.facturaId,facturaDate:this.state.facturaDate})):r.a.createElement(h.a,{className:this.getClassNone()},r.a.createElement("h1",{className:"text-center"},"Gallery"),r.a.createElement(V.a,null,this.state.images.map((function(t,a){return r.a.createElement(z.a,{key:a,sm:"12",md:"6"},r.a.createElement(q,{vendorId:e.state.vendedores[a].id,link:t.link,vendorName:e.state.vendedores[a].name,totalVotes:e.state[e.state.vendedores[a].id],titulo:t.title,onClickPress:e.handleButton}))})))),r.a.createElement(Z.a,{className:this.getClassListNone()},Object.keys(this.state.ganadores).map((function(t){return r.a.createElement(G.a,{key:t,className:"justify-content-between"},"Vendedor ",e.state.vendedores[t-1].name," ",r.a.createElement(M.a,{color:"dark",pill:!0},e.state.ganadores[t]))})),r.a.createElement(G.a,null,"Total votos:"," ",r.a.createElement(M.a,{className:"button",pill:!0},this.state.votos)," ")))}},{key:"getClassNone",value:function(){var e="m-2";return e+=0===this.state.images.length?" empty":""}},{key:"getClassListNone",value:function(){var e="m-2";return e+=this.state.images.length>0?" empty":""}},{key:"formatSearch",value:function(){var e=this.state.items;return 0===e?"":"Numero de concursantes: ".concat(e)}}]),t}(n.Component),H=(a(56),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(w,null),r.a.createElement(h.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:X}),r.a.createElement(d.a,{path:"/about",component:k})))}}]),t}(n.Component));a(57),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.38ed95ba.chunk.js.map